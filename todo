TODO:
- autoswitch postponing
- disabling loop
BUG
- fix integer step